---
title: "CH6 part 1 *Inferential Statistics & Regressions* (apply)"
author: "Nurrospody"
date: "7/13/2020, *Learn R for Applied Statistics : With Data Visualizations, Regressions, and Statistics*"
output:
  github_document:
    toc: TRUE
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

Modes <- function(x) {
  ux <- unique(x)
  tab <- tabulate(match(x, ux))
  ux[tab == max(tab)]
}

Madoka <- read.csv(file="../data_sources/Madoka Magika Volume 1-3.csv")

Smallmad <- Madoka[1:5,]
```

*Inferential statistics are our gateway to understanding potential future data with current data.*   

### apply(), lapply(), sapply() commands  

**apply()** is a loop command.  We can use it alongside a list, matrix, or array, and put (almost) any function we want in the parenthesis.  Then, it applies that function to all of the data until it loops to the end of the dataset.  

Use it like this: ```apply(dataset, margin, function)```.  Margin equals either 1 or 2.  To apply the function to a row, use 1; to apply the function to a column, use 2.  

**lapply()** works the same, but lapply() output is a *list*, and a row is selected with $ when printing data rather than using the margin argument.  
**sapply()** works the same as lapply, but sapply() output is a *vector*.

Examples of using these functions.
```{r}
apply(Smallmad, 2, Modes); 
apply(Smallmad, 1, Modes);
lapply(Smallmad$album.info, Modes); 
sapply(Smallmad$album.info, Modes); 
```
I'm using a Modes function (see {r setup, include=FALSE} block) to show the most common value(s), and the first 5 rows of the [Madoka dataset](https://github.com/Nurrospody/SOURCE-Statistics-ILC/blob/master/data_sources/Madoka%20Magika%20Volume%201-3.csv) (Smallmad) as my dataset.  This is just for the case of quick exercise.  What's happening here is that  
**apply** shows, in a vector, the Modes for EVERYTHING in the dataset.  When the margin is 2 (columns) all of our data is shown correctly; when the margin is 1 (rows) the data is not shown correctly, presumably because of how it's stored.  
**lapply** shows, for each row, the Mode of each column, but for some reason it also shows every other level?  
**sapply** simply shows a vector of what the mode of each row is, without showing everything long hand.  It also shows every level?  this is weird because these levels don't exist within the first 5 rows of the Madoka dataset, so it must have stored it away somewhere.  

A practical use of this would be to find the mean of a gathered dataset.  I will be using apply again, with real data, when my garden dataset is done being collected at the end of this month.  

### sample() commands

**sample()** can do simple random sampling.  

It works like this: ```sample(data$..., # of items to select, replace=TRUE or FALSE)```.  

From the data, select which section (if applicable) to simple random sample from . . . type a simple numeric value to indicate how many random samples you want to pull, and decide if you want to replace values or not.  Not replacing values means that each sample has a different likeliness than the last, which can be mathematically complicated; but it does mean you won't get duplicate values.

Here's an example for the sake of practice: 
```{r}
sample(Madoka$album.info, 6, FALSE)
```
Here, I'm randomly selecting 6 different (no replacement) values from the Madoka dataset.  I chose album.info because it's easy to read in a list.  (I had used start.time originally, but it wasn't legible.)  

It's very likely that when my garden data is finished, I'll find use for the random sampling command.
















To continue reading the CH6 reports, select a new section:  
Next: [Part 2 of the Chapter 6 Reports](https://github.com/Nurrospody/SOURCE-Statistics-ILC/blob/master/Chapter%20Reports/CH6-part2.md)  
Previous: none.  
  
[Link to README to select any Chapter Report](https://github.com/Nurrospody/SOURCE-Statistics-ILC/blob/master/README.md)
